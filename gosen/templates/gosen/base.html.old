<!DOCTYPE html><html lang="fr"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Filtre Expert</title>    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js' defer></script>                <link rel="stylesheet" href="/static/gosen/css/styles-gabon.css"></head><body>{% include "gosen/auth_navbar.html" %}    <div class="container">        <header>            <a href="https://wa.me/241077045354?text=Bonjour,%20je%20souhaite%20souscrire%20√†%20un%20abonnement%20pour%20Gosen%20TurfFilter.%20Quelles%20sont%20les%20options%20pour%20un%20abonnement%20mensuel,%20annuel,%20ou%20√†%20vie%20?%20Je%20comprends%20que%20chaque%20licence%20est%20valable%20pour%20un%20seul%20appareil." target="_blank" class="logo-link"></a>            <h1>Filtre Expert</h1>            <p class="subtitle">Application de filtrage de combinaisons hippiques</p>        </header>                <div class="grid-container">            <!-- Section de Configuration -->            <div class="card config-card">                <h2>‚öôÔ∏è 1. Configuration initiale</h2>                <div class="form-group">                    <label for="num-partants">Nombre de partants :</label>                    <input type="number" id="num-partants" value="16" min="8" max="16">                </div>                <div class="form-group">                    <label for="taille-combinaison">Taille de combinaison :</label>                    <input type="number" id="taille-combinaison" value="6" min="2" max="7">                </div>                <div class="total-combinaisons" id="total-combinaisons-info"></div>            </div>            <!-- Section des Pronostics -->            <div class="card pronostics-card">                <div style="display: flex; justify-content: space-between; align-items: center;">                    <h2>‚úçÔ∏è 2. Saisie des pronostics <button class="info-icon-general details-btn toggle-details-btn" data-target="#group-filter-explanation">i</button></h2>                    <button id="upload-image-btn" class="add-filter-btn" style="margin-left: 15px; padding: 6px 12px; font-size: 0.8rem; display: none;">                        üì∑ Extraire d'une image                    </button>                </div>                <input type="file" id="image-upload-input" accept="image/*" style="display: none;">                <input type="file" id="camera-input" accept="image/*" capture="environment" style="display: none;">                <p id="ocr-status" style="text-align: center; margin-top: 10px; font-weight: 600; color: var(--primary-color); display: none;"></p>                <p class="instructions">Entrez vos pronostics, un groupe par ligne.</p>                <textarea id="pronostics" rows="6" placeholder="Ex: Mes favoris : 4, 7-10&#x0a;Outsiders : 1, 5, 12, 16&#x0a;Bases : 2, 8"></textarea>                <div id="group-filter-explanation" style="display: none; margin-top: 15px;">                    <p>Pour chaque groupe de pronostics que vous avez saisi, vous pouvez d√©finir une fourchette (minimum et maximum) de chevaux √† conserver dans les combinaisons finales. Si le nombre de chevaux de ce groupe dans une combinaison n'est pas compris entre votre Min et votre Max pour ce groupe, la combinaison est √©limin√©e.</p>                    <p>Par exemple, si votre "Groupe 1" est [4, 7, 10] et que vous d√©finissez "Min: 1, Max: 2" pour ce groupe :</p>                    <ul>                        <li>Une combinaison comme [4, 1, 2, 3, 5, 6] (qui contient 1 cheval du Groupe 1) sera conserv√©e.</li>                        <li>Une combinaison comme [4, 7, 1, 2, 3, 5] (qui contient 2 chevaux du Groupe 1) sera conserv√©e.</li>                        <li>Une combinaison comme [4, 7, 10, 1, 2, 3] (qui contient 3 chevaux du Groupe 1) sera √©limin√©e car elle d√©passe le Max de 2.</li>                    </ul>                </div>                <div id="parsed-groups"></div>            </div>        </div>        <!-- Section de Synth√®se des Pronostics -->        <div class="card synthesis-pronos-card">            <h2>üìà Synth√®se des Pronostics</h2>                        <!-- Synth√®se par Citation -->            <div id="citation-synthesis-section" style="margin-bottom: 20px;">                <div class="synthesis-header">                    <h4 style="color: var(--primary-color);">Par Citation</h4>                    <button id="toggle-citation-details" class="details-btn toggle-details-btn" data-target="#citation-details-view">i</button>                </div>                <p style="font-size: 0.9rem; margin-bottom: 10px;">Classement par nombre d'apparitions dans les groupes.</p>                <div id="citation-compact-view" class="synthesis-compact">En attente de pronostics...</div>                <div id="citation-details-view" class="synthesis-output-grid" style="display: none;"></div>            </div>            <!-- Synth√®se par Position -->            <div id="position-synthesis-section">                <div class="synthesis-header">                    <h4 style="color: var(--primary-color);">Par Position (Pond√©r√©)</h4>                    <button id="toggle-position-details" class="details-btn toggle-details-btn" data-target="#position-details-view">i</button>                </div>                <p style="font-size: 0.9rem; margin-bottom: 10px;">Classement pond√©r√© par la position dans chaque groupe.</p>                <div id="position-compact-view" class="synthesis-compact">En attente de pronostics...</div>                <div id="position-details-view" class="synthesis-output-grid" style="display: none;"></div>            </div>        </div>        <!-- Section des Crit√®res de Filtrage -->        <div class="card filter-card">            <h2>üîç 3. Crit√®res de filtrage</h2>            <div class="filter-container" id="filter-container">                <!-- Les filtres seront ajout√©s dynamiquement ici -->            </div>            <div class="add-filter-wrapper">                <button id="add-extra-filter" class="add-filter-btn">+ Ajouter un filtre</button>            </div>        </div>        <!-- Section des R√©sultats -->        <!-- IMPORTANT: BLOC ABONNEMENT - CONTENU A MASQUER -->        <!-- Resultats + Syntheses -->        <div class="card subscription-content-block">            <h2>üìä 4. R√©sultats du filtrage</h2>            <div class="tab-buttons">                <button class="tab-btn active" data-tab="results-tab-content">R√©sultats</button>                <button class="tab-btn" data-tab="backtest-tab-content">Backtest</button>            </div>            <div class="tab-content active" id="results-tab-content">                <div class="results-summary" id="results-summary">                    En attente de configuration...                </div>                <div class="loader-container" id="loader" style="display: none;">                    <div class="loader"></div>                    <p>Filtrage en cours, veuillez patienter...</p>                </div>                <div class="results-output" id="results-output"></div>                <div id="synthesis-section" style="display: none; margin-top: 25px;">                     <div class="synthesis-header">                        <h4 style="color: var(--primary-color);">Synth√®se des Chevaux Filtr√©s</h4>                        <button id="toggle-synthesis-details" class="details-btn toggle-details-btn" data-target="#synthesis-details-view">i</button>                    </div>                     <p style="font-size: 0.9rem; margin-bottom: 15px;">Classement des chevaux par fr√©quence d'apparition dans les combinaisons conserv√©es.</p>                     <!-- Vue compacte (par d√©faut) -->                    <div id="synthesis-compact-view" class="synthesis-compact"></div>                    <!-- Vue d√©taill√©e (cach√©e par d√©faut) -->                    <div id="synthesis-details-view" class="synthesis-output-grid" style="display: none;"></div>                </div>            </div>            <div class="tab-content" id="backtest-tab-content" style="display: none;">                <div id="backtest-section">                    <p class="instructions" style="margin-bottom: 15px;">Entrez une combinaison d arrivee pour la comparer a votre selection filtree et vos criteres.</p>                    <div class="form-group" style="display: flex; gap: 10px; align-items: center;">                        <input type="text" id="backtest-input" class="form-control" placeholder="Entrez l arrivee a tester (ex: 2, 7, 5, 1, 10)">                        <button id="run-backtest-btn" class="add-filter-btn" style="padding: 12px 15px; white-space: nowrap;">Analyser</button>                    </div>                    <div id="backtest-results-container" style="display: none; margin-top: 20px;">                        <pre id="backtest-results-output" class="backtest-output"></pre>                        <button id="save-backtest-btn" class="add-filter-btn" style="margin-top: 15px;">Sauvegarder l Analyse</button><div id="saved-analyses-container" style="margin-top:20px"></div>                    </div>                </div>            </div>        </div>        <!-- Section de Synth√®se de l Expert -->    <div         <h2>üåü Synth√®se de l Expert</h2>        <div id="expert-synthesis-section">            <div class="synthesis-header">                <h4 style="color: var(--primary-color);">Classement Global Pond√©r√©</h4>                <button id="toggle-expert-details" class="details-btn toggle-details-btn" data-target="#expert-details-view">i</button>            </div>            <div id="expert-compact-view" class="synthesis-compact">En attente des r√©sultats du filtrage...</div>            <div id="expert-details-view" style="display: none;">                <p style="font-size: 0.9rem; margin-bottom: 15px; text-align: left;">                    <b>G√©n√©ration de la synth√®se :</b><br>                    Ce classement est obtenu en attribuant des points √† chaque cheval selon sa performance dans 3 cat√©gories : sa popularit√© dans vos pronostics (citation), sa position dans vos listes (pond√©ration), et sa fr√©quence dans les combinaisons finales. Un coefficient est appliqu√© pour donner plus de poids aux r√©sultats filtr√©s, consid√©r√©s comme plus pertinents. Le score final est la somme de ces points pond√©r√©s.                </p>                <div class="synthesis-output-grid"></div>            </div>    </div></div>    </div>
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-badge">
                <span class="pulse-dot"></span>
                Pour les Turfistes Strat√®ges
            </div>
            <h1 class="hero-title">Gosen TurfFilter</h1>
            <p class="hero-subtitle">
                Transformez vos pronostics en combinaisons gagnantes. De 8008 combinaisons √† 20+ combinaisons statistiquement optimis√©es en 3 √©tapes.
            </p>
            <div class="steps-container">
                <div class="step-card step-1">
                    <div class="step-number">01</div>
                    <div class="step-content">
                        <h3>Vos Pronostics</h3>
                        <p>Introduisez vos groupes : favoris, seconde chance, outsiders, tocards...</p>
                    </div>
                </div>
                <div class="step-card step-2">
                    <div class="step-number">02</div>
                    <div class="step-content">
                        <h3>Filtres Experts</h3>
                        <p>Expert 1, Statistiques et Somme Totale (Poids) des chevaux</p>
                    </div>
                </div>
                <div class="step-card step-3">
                    <div class="step-number">03</div>
                    <div class="step-content">
                        <h3>Vos Combinaisons</h3>
                        <p>Obtenez vos 20+ combinaisons statistiquement fiables</p>
                    </div>
                </div>
            </div>
            <div class="cta-container">
                <div class="stat-highlight">
                    <span class="stat-number">8008</span>
                    <span class="stat-arrow">‚Üí</span>
                    <span class="stat-number stat-result">20+</span>
                </div>
                <p class="stat-text">Combinaisons r√©duites avec pr√©cision</p>
            </div>
        </div>
    </section>

        <!-- Section Partenaires -->
        <div class="card partners-card" id="partners-section">
            <h2>ü§ù Partenaires</h2>
            <div id="partners-container" style="display: flex; justify-content: center; align-items: center; gap: 40px; padding: 20px; flex-wrap: wrap;">
                <!-- Les partenaires seront charg√©s dynamiquement depuis l'API -->
                <p style="color: #666;">Chargement des partenaires...</p>
            </div>
        </div>
    </div>
{% include "gosen/contact_section.html" %}
{% include "gosen/footer.html" %}    <!-- Floating Action Button for Combinations -->    <div id="floating-counter" class="floating-btn" title="Combinaisons restantes"></div>    <!-- Floating Action Button for Combinations -->    <!-- Modal for adding new filters -->    <div id="add-filter-modal" class="modal-overlay" style="display: none;">        <div class="modal-content">            <h3>Ajouter un nouveau filtre</h3>            <p>Choisissez le type de filtre que vous souhaitez ajouter √† votre analyse.</p>            <div class="modal-actions">                <button id="add-standard-filter-btn" class="modal-btn standard">Expert 1</button>                <button id="add-advanced-filter-btn" class="modal-btn advanced">Expert 2</button>                <button id="add-weight-filter-btn" class="modal-btn weight">Poids</button>                <button id="add-statistic-filter-btn" class="modal-btn numeric">Statistiques</button>                <button id="add-alternance-filter-btn" class="modal-btn alternance">Alternance</button>            </div>            <button id="close-modal-btn" class="modal-close">&times;</button>    </div>    <!-- Modal for image source selection -->    <div id="image-source-modal" class="modal-overlay" style="display: none;">        <div class="modal-content">            <h3>Source de l\'image</h3>            <p>Choisissez si vous souhaitez t√©l√©verser un fichier ou prendre une nouvelle photo.</p>            <div class="modal-actions">                <button id="select-file-btn" class="modal-btn standard">Choisir un fichier</button>                <button id="take-photo-btn" class="modal-btn advanced">Prendre une photo</button>            </div>            <button id="close-image-source-modal-btn" class="modal-close">&times;</button>        </div>    </div>    <script src="/static/gosen/js/theme.js"></script>
    <script src="/static/gosen/js/patch.js"></script>
    <script src="/static/gosen/js/main.js?v=3"></script></body></html>