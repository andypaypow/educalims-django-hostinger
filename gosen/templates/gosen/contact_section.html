<section class=contact-wrapper-section>
    <div class=contact-container-max>
        <div class=contact-title-section>
            <h2 class=contact-main-title>Contactez-nous</h2>
            <p class=contact-subtitle>Une question ? Un probleme ? Nhésitez pas à nous envoyer un message !</p>
        </div>
        <div class=contact-grid-layout>
            <div class=contact-info-panel>
                <a href=https://wa.me/241077045354 target=_blank class=contact-link-card>WhatsApp - Reponse rapide</a>
                <a href=/contact/ class=contact-link-card>Formulaire complet</a>
            </div>
            <form class=contact-form-inline id=contactFormInline>
                {% csrf_token %}
                <input type=text name=nom class=contact-input-field placeholder="Votre nom *" required>
                <input type=email name=email class=contact-input-field placeholder="Votre email *" required>
                <select name=type_demande class=contact-input-field required>
                    <option value="">Type de demande...</option>
                    <option value="filtre">Demande de filtre</option>
                    <option value="support">Support technique</option>
                    <option value="partenariat">Partenariat</option>
                    <option value="autre">Autre</option>
                </select>
                <textarea name=message class=contact-input-field contact-textarea-field placeholder="Votre message..." rows=3 required></textarea>
                <button type=submit class=contact-button-submit>Envoyer →</button>
            </form>
        </div>
        <div class=contact-success-alert id=contactSuccessBox style="display: none;">
            <span>✓</span><p>Message envoye avec succes !</p>
        </div>
    </div>
</section>
<style>
.contact-wrapper-section{background:linear-gradient(135deg,#0a0a0a 0%,#151515 100%);margin-top:50px;padding:40px 20px;border-top:1px solid rgba(0,198,255,0.1)}
.contact-container-max{max-width:1100px;margin:0 auto}
.contact-title-section{text-align:center;margin-bottom:30px}
.contact-main-title{color:var(--primary-color);font-size:2rem;margin-bottom:10px;text-shadow:0 0 10px rgba(0,198,255,0.4)}
.contact-subtitle{color:#aaa;font-size:1rem}
.contact-grid-layout{display:grid;grid-template-columns:1fr 1.2fr;gap:30px}
.contact-link-card{display:block;padding:18px;background:rgba(0,198,255,0.03);border:1px solid rgba(0,198,255,0.15);border-radius:10px;text-decoration:none;color:#ccc;margin-bottom:12px;transition:all 0.3s ease}
.contact-link-card:hover{background:rgba(0,198,255,0.1);border-color:var(--primary-color);transform:translateX(5px)}
.contact-form-inline{display:flex;flex-direction:column;gap:12px}
.contact-input-field{padding:14px 16px;border:1px solid #444;border-radius:8px;background:#1e1e1e;color:#eee;font-family:Poppins,sans-serif;font-size:0.95rem}
.contact-input-field:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(0,198,255,0.15);background:#252525}
.contact-textarea-field{resize:vertical;min-height:100px}
.contact-button-submit{background:linear-gradient(135deg,var(--primary-color),#0077b3);color:#111;border:none;border-radius:8px;padding:14px 24px;font-family:Poppins,sans-serif;font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.3s ease;text-transform:uppercase}
.contact-button-submit:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,198,255,0.4)}
.contact-success-alert{grid-column:1/-1;text-align:center;padding:25px;background:rgba(57,255,20,0.08);border:1px solid var(--success-color);border-radius:10px}
.contact-success-alert span{color:var(--success-color);font-size:2rem;margin-right:10px}
.contact-success-alert p{color:var(--success-color);font-size:1.1rem;font-weight:600;margin:0}
@media (max-width:768px){
    .contact-grid-layout{grid-template-columns:1fr;gap:25px}
    .contact-main-title{font-size:1.6rem}
}
</style>
<script>
const form=document.getElementById('contactFormInline'),successBox=document.getElementById('contactSuccessBox');
if(form){
    form.addEventListener('submit',async function(e){
        e.preventDefault();
        const btn=form.querySelector('.contact-button-submit'),originalText=btn.textContent;
        btn.disabled=!0;
        btn.textContent='Envoi...';
        const formData=new FormData(form),data=Object.fromEntries(formData.entries());
        try{
            const response=await fetch('/api/contact/submit/',{
                method:'POST',
                headers:{'Content-Type':'application/json','X-CSRFToken':formData.get('csrfmiddlewaretoken')},
                body:JSON.stringify(data)
            }),result=await response.json();
            if(result.success){
                form.style.display='none';
                successBox.style.display='block';
                setTimeout(()=>{
                    form.reset();
                    form.style.display='flex';
                    successBox.style.display='none';
                },5000);
            }else{
                alert(result.error||'Erreur.');
            }
        }catch(error){
            alert('Erreur de connexion.');
        }finally{
            btn.disabled=!1;
            btn.textContent=originalText;
        }
    });
}
</script>
